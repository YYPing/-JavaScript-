<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>9) 单一按钮显示隐藏一播放列表收缩展开</title>
</head>
<body>
    <dl>
        <dt>
            <input type="checkbox" id="checkAll"><label>全选</label>
            <a href="javascript:;">反选</a>
        </dt>
        <dd>
            <p><input type="checkbox" name="item"><label>选项（一）</label></p>
            <p><input type="checkbox" name="item"><label>选项（二）</label></p>
            <p><input type="checkbox" name="item"><label>选项（三）</label></p>
            <p><input type="checkbox" name="item"><label>选项（四）</label></p>
            <p><input type="checkbox" name="item"><label>选项（五）</label></p>
            <p><input type="checkbox" name="item"><label>选项（六）</label></p>
            <p><input type="checkbox" name="item"><label>选项（七）</label></p>
            <p><input type="checkbox" name="item"><label>选项（八）</label></p>
            <p><input type="checkbox" name="item"><label>选项（九）</label></p>
            <p><input type="checkbox" name="item"><label>选项（十）</label></p>
        </dd>
    </dl>
    <center>1、切换全选/全不选文字；2、根据选中个数更新全选框状态；</center>
</body>
<script>
    window.onload = function () {
        var checkAll = document.getElementById('checkAll');
        var inputAll = document.getElementsByTagName('dd')[0].getElementsByTagName('input');
        var text = document.getElementsByTagName('dt')[0].getElementsByTagName('label')[0];
        var check = document.getElementsByTagName('dt')[0].getElementsByTagName('a')[0];
        var ischeckAll = function (){
            for (var i = 0,n = 0; i < inputAll.length; i++) {
                if (inputAll[i].checked) {
                    n++
                };
                // inputAll[i].checked && n++;
            };
            if (n == inputAll.length) {
                checkAll.checked = true
            }else{
                checkAll.checked = false
            }
            // console.log(checkAll.checked = n == inputAll.length);;
            text.innerHTML = checkAll.checked ? '全不选':'全选'
        }

        checkAll.onclick = function(){
            for (var i = 0; i < inputAll.length; i++) {
                inputAll[i].checked = this.checked;
            };
            ischeckAll();
        }
        check.onclick = function(){
            for (var i = 0; i < inputAll.length; i++) {
                    inputAll[i].checked = !inputAll[i].checked
                };
            ischeckAll();
        }
        for (var i = 0; i < inputAll.length; i++) {
            inputAll[i].onclick = function(){
                ischeckAll();
            }
        };
    }
</script>
</html>